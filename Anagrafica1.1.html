<!DOCTYPE html>
<html>
  <body>
    <p id="demo"></p>
<table id ="tabella">
<thead>
  <tr>
    <th>Nome</th>
    <th>Cognome</th>
    <th>Et√†</th>
  </tr>
</thead>
<tbody></tbody>
</table>
<button id="maggiorenni">Maggiorenni</button>
<button id="minorenni">Minorenni</button>
<table id ="tabellaEta">
  <tbody></tbody>
  </table>
<script>
  let persone=[];
  const tbody=document.querySelector("#tabella tbody");
  const tbodyEta=document.querySelector("#tabellaEta tbody");
  let x=0;
  let stampa="";
  let xmlhttp = new XMLHttpRequest();
  xmlhttp.open("GET", "anagrafica.json", true);
  xmlhttp.send();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        persone=JSON.parse(this.responseText);
      for(let i=0; i<persone.length; i++){
        let pers = persone[i];
        let row=tbody.insertRow();
        row.insertCell().textContent=pers.nome;
        row.insertCell().textContent=pers.cognome;
        row.insertCell().textContent=pers.eta;
        tbody.appendChild(row);
      }
    }
};
document.getElementById("maggiorenni").addEventListener("click", function(){
  for(let i=0; i<persone.length; i++){
    if(persone[i].eta>=18){
      let magg = persone[i];
        let row=tbodyEta.insertRow();
        row.insertCell().textContent=magg.nome;
        row.insertCell().textContent=magg.cognome;
        row.insertCell().textContent=magg.eta;
        tbodyEta.appendChild(row);
    }
      }
}
);

document.getElementById("minorenni").addEventListener("click", function(){
  for(let i=0; i<persone.length; i++){
    if(persone[i].eta<18){
      let minn = persone[i];
        let row=tbodyEta.insertRow();
        row.insertCell().textContent=minn.nome;
        row.insertCell().textContent=minn.cognome;
        row.insertCell().textContent=minn.eta;
        tbodyEta.appendChild(row);
    }
      }
}
);
</script>
</body>
</html>
